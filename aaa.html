 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mortgage Calculator</title>
  <link rel="stylesheet" href="a3.css">
</head>
<body>
  <section class="main">
  <div class="calculatorcontainer">
    <!-- Left box -->
    <div class="form-section">
      <h2 style="margin-bottom: 15px;">Mortgage Calculator</h2>
      <form >
        <label style="color: grey;">Mortgage Amount
          <input type="number" placeholder="£ 300,000" required>
        </label>
        
        <div class="input">
          <label>Mortgage Term
            <input type="number"  placeholder="25" required>
          </label>
          <label>Interest Rate
            <input type="number"  placeholder="5.25" step="0.01" required>
          </label>
        </div>

        <div class="mortgage-type">
          <label >Mortgage type<br>
            <input type="radio"  style="margin-top: 15px;">Repayment</label>
          <br>
          <label><input type="radio" > Interest Only</label>
        </div>

        <button type="submit">Calculate Repayments</button>
      </form>
    </div>

    <!-- Right box -->
     <div>
       <div class="result-section">
         <h3 >Your Results</h3>
         <p class="monthly">£1,797.74</p>
         <p>Total you'll repay over the term: <strong>£539,322.94</strong></p>
       </div>

     </div>
  </div>
  </section>

  <script>
document.querySelector("form").addEventListener("submit", function(e) {
  e.preventDefault(); // stop form refresh

  // Get input values
  const amount = parseFloat(document.querySelector('input[placeholder="£ 300,000"]').value);
  const years = parseFloat(document.querySelector('input[placeholder="25"]').value);
  const rate = parseFloat(document.querySelector('input[placeholder="5.25"]').value) / 100;
  const type = document.querySelectorAll('input[type="radio"]')[0].checked ? "repayment" : "interestOnly";

  if (isNaN(amount) || isNaN(years) || isNaN(rate)) {
    alert("Please fill in all fields correctly.");
    return;
  }

  const months = years * 12;
  const monthlyRate = rate / 12;
  let monthlyPayment, totalRepay;

  if (type === "repayment") {
    // Repayment formula: M = P * r * (1+r)^n / ((1+r)^n -1)
    monthlyPayment = amount * monthlyRate * Math.pow(1 + monthlyRate, months) / 
                    (Math.pow(1 + monthlyRate, months) - 1);
    totalRepay = monthlyPayment * months;
  } else {
    // Interest only: monthly = principal * rate/12
    monthlyPayment = amount * monthlyRate;
    totalRepay = (monthlyPayment * months) + amount; // if principal is repaid at end
  }

  // Update results
  document.querySelector(".monthly").textContent = "£" + monthlyPayment.toFixed(2);
  document.querySelector(".result-section p strong").textContent = "£" + totalRepay.toFixed(2);
});
</script>

</body>
</html>
